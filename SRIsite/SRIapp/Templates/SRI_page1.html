<!DOCTYPE html>
<html lang="en">

<head>
     <title>SRIapp</title>
    {% load bootstrap5 %}
    {% bootstrap_css %}
    {% bootstrap_javascript %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'style.css' %}">

<style>

.switch {
    position: relative;
    display: inline-block;
    width: 30px;  /* Smaller width */
    height: 14px; /* Smaller height */
    top:5px
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.switch input:checked + .slider {
    background-color: #4CAF50; /* Green when checked */
}

.switch input:focus + .slider {
    box-shadow: 0 0 1px #2196F3;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: 0.4s;
    border-radius: 14px;  /* Rounded edges for the slider */
}

.slider:before {
    position: absolute;
    content: "";
    height: 14px; /* 14px knob size */
    width: 14px;  /* 14px knob size */
    border-radius: 50%;
    left: 0;      /* Knob starts at the left */
    bottom: 0;    /* Knob stays at the bottom */
    background-color: white;
    transition: 0.4s;
}

input:checked + .slider:before {
    transform: translateX(14px);  /* Move the knob when toggled */
}



/* Tooltip container */
    .tooltip-container {
        position: relative;
        display: inline-block;
        cursor: pointer; /* Changes the cursor to pointer on hover */
    }

    /* Tooltip text style */
    .tooltip-container .tooltip-text {
        visibility: hidden;
        width: 250px; /* Width of the tooltip */
        background-color: #6c757d; /* Tooltip background color */
        color: #fff; /* Tooltip text color */
        text-align: left;
        border-radius: 5px; /* Rounded corners */
        padding: 10px;
        position: absolute;
        z-index: 1;
        bottom: -15%; /* Position the tooltip above the element */
        left: 50%;
        margin-left: -125px; /* Center the tooltip */
        opacity: 0;
        transition: opacity 0.3s; /* Smooth transition */
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); /* Shadow for the tooltip */
    }

    /* Show the tooltip when hovering over the container */
    .tooltip-container:hover .tooltip-text {
        visibility: visible;
        opacity: 1;
    }

    </style>

</head>

<body>
<!-- Navbar ---->
    <nav class="navbar navbar-expand-sm ">
        <div class="container-fluid">
         <a class="navbar-brand" href="/">SRI CALCULATOR</a>
         <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
           <span class="navbar-toggler-icon"></span>
          </button>
            </ul>
         </div>
         </div>
    </nav>


<p></p>
<p></p>
<p></p>

<!-- SRI FORM ---->
<div class="container-fluid" style="float:left;">
      <div class="row justify-content-center">
        <div class="col-sm-8">
            <p></p>
            <!-- <a href="SRI_result/">test</a>-->
            <p></p>
            <form action="/" method="post" novalidate>
                {% csrf_token %}

                {{ form.non_field_errors }}

                {% for hidden_field in form.hidden_fields %}
                {{ hidden_field.errors }}
                {{ hidden_field }}
                {% endfor %}


                    <div class="fieldWrapper">
                    <label >Building type :</label>
                      {{ form.selected_building_type }}
                    </div>

                    <div class="fieldWrapper">
                    <label >Building zone:</label>
                      {{ form.selected_zone }}
                    </div>


                 <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH" >
                     <label>{{ form.selected_H.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                 </div>


                <div id="collapseH" class="collapse" style='opacity:0.8; border-color:black; width: 800px;' >
                    <div class="card card-body">

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH1a">
                            <label>{{ form.selected_H1a.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                            <label class="switch">
                                {{ form.selected_H1a }}  <!-- Render the form field (checkbox) -->
                                <span class="slider"></span>
                            </label>
                         </div>

                       <div id="collapseH1a" class="collapse">
                       <div class="card card-body">
                            <p> Share of the functionality level : {{ form.selected_H1a_Perc_1 }}</p>
                            <div class="tooltip-container">
                            <p> Main functionality level : {{ form.selected_H1a_level }}</p>
                                <span class="tooltip-text">
				                    Heat emission control<br>
                                    0: No automatic control<br>
                                    1: Central automatic control (e.g. central thermostat)<br>
                                    2: Individual room control (e.g. thermostatic valves, or electronic controller)<br>
                                    3: Individual room control with communication between controllers and to BACS<br>
                                    4: Individual room control with communication and occupancy detection
                                </span>
                            </div>
                           <p> Additional functionality level (if Share <100%): {{ form.selected_H1a_Perc2_level }}</p>
                        </div>
                       </div>

                                                    <script>
                                                        const element = document.getElementById("id_selected_H1a_Perc_1");
                                                        element.addEventListener("change", myFunction);


                                                        function myFunction() {
                                                          var x = document.getElementById("id_selected_H1a_Perc_1");
                                                          var y = document.getElementById("id_selected_H1a_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH1b">
                        <label>{{ form.selected_H1b.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H1b }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                     <div id="collapseH1b" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H1b_Perc_1 }}</p>
                       <div class="tooltip-container">
                      <p>Main functionality level : {{ form.selected_H1b_level }}</p>
                           <span class="tooltip-text">
                                    Emission control for TABS (heating mode)<br>
                                    0: No automatic control<br>
                                    1: Central automatic control <br>
                                    2: Advanced central automatic control<br>
                                    3: Advanced central automatic control with intermittent operation and/or room temperature feedback control
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_H1b_Perc2_level }}</p>
                    </div>
                    </div>
                                                    <script>
                                                        document.getElementById("id_selected_H1b_Perc_1").addEventListener("change", myFunction2);

                                                        function myFunction2() {
                                                          var x = document.getElementById("id_selected_H1b_Perc_1");
                                                          var y = document.getElementById("id_selected_H1b_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>



                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH1c">
                        <label>{{ form.selected_H1c.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H1c }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                     <div id="collapseH1c" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H1c_Perc_1 }}</p>
                         <div class="tooltip-container">
                      <p>Main functionality level : {{ form.selected_H1c_level }}</p>
                             <span class="tooltip-text">
                                    Control of distribution fluid temperature (supply or return air flow or water flow) - Similar function can be applied to the control of direct electric heating networks<br>
				                    0: No automatic control <br>
                                    1: Outside temperature compensated control<br>
                                    2: Demand based control<br>
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_H1c_Perc2_level }}</p>
                    </div>
                     </div>
                                                   <script>
                                                        document.getElementById("id_selected_H1c_Perc_1").addEventListener("change", myFunction3);

                                                        function myFunction3() {
                                                          var x = document.getElementById("id_selected_H1c_Perc_1");
                                                          var y = document.getElementById("id_selected_H1c_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper " data-bs-toggle="collapse" data-bs-target="#collapseH1d">
                        <label>{{ form.selected_H1d.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H1d }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div id="collapseH1d" class="collapse">
                    <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H1d_Perc_1 }}</p>
                      <div class="tooltip-container">
                        <p>Main functionality level : {{ form.selected_H1d_level }}</p>
                       <span class="tooltip-text">
                                    Control of distribution pumps in networks<br>
                                    0: No automatic control<br>
                                    1: On off control<br>
                                    2: Multi-Stage control<br>
                                    3: Variable speed pump control (pump unit (internal) estimations)<br>
                                    4: Variable speed pump control (external demand signal)
                                </span>
                            </div>
                          <p>Additional functionality level (if Share <100%): {{ form.selected_H1d_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_H1d_Perc_1").addEventListener("change", myFunction4);

                                                        function myFunction4() {
                                                          var x = document.getElementById("id_selected_H1d_Perc_1");
                                                          var y = document.getElementById("id_selected_H1d_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH1f">
                    <label>{{ form.selected_H1f.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H1f }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div id="collapseH1f" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H1f_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_H1f_level }}</p>
                             <span class="tooltip-text">
                                    Thermal Energy Storage (TES) for building heating (excluding TABS)<br>
                                    0: Continuous storage operation<br>
                                    1: Time-scheduled storage operation<br>
                                    2: Load prediction based storage operation<br>
                                    3: Heat storage capable of flexible control through grid signals (e.g. DSM) <br>
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_H1f_Perc2_level }}</p>
                    </div>
                    </div>
                                                    <script>
                                                        document.getElementById("id_selected_H1f_Perc_1").addEventListener("change", myFunction2a);

                                                        function myFunction2a() {
                                                          var x = document.getElementById("id_selected_H1f_Perc_1");
                                                          var y = document.getElementById("id_selected_H1f_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH2a">
                    <label>{{ form.selected_H2a.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H2a }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div id="collapseH2a" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H2a_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_H2a_level }}</p>
                             <span class="tooltip-text">
                                    Heat generator control (all except heat pumps)<br>
                                    0: Constant temperature control<br>
                                    1: Variable temperature control depending on outdoor temperature (e.g. central thermostat)<br>
                                    2: Variable temperature control depending on the load (e.g. depending on supply water temperature set point)
                                </span>
                            </div>
                         <p>Additional functionality level (if Share <100%): {{ form.selected_H2a_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_H2a_Perc_1").addEventListener("change", myFunction5);

                                                        function myFunction5() {
                                                          var x = document.getElementById("id_selected_H2a_Perc_1");
                                                          var y = document.getElementById("id_selected_H2a_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH2b">
                    <label>{{ form.selected_H2b.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H2b }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                     </div>

                     <div id="collapseH2b" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H2b_Perc_1 }}</p>
                      <div class="tooltip-container">
                      <p>Main functionality level : {{ form.selected_H2b_level }}</p>
                             <span class="tooltip-text">
                                    Heat generator control (for heat pumps)<br>
                                    0: On/Off-control of heat generator<br>
                                    1: Multi-stage control of heat generator capacity depending on the load or demand (e.g. on/off of several compressors)<br>
                                    2: Variable control of heat generator capacity depending on the load or demand (e.g. hot gas bypass, inverter frequency control)<br>
                                    3: Variable control of heat generator capacity depending on the load AND external signals from grid<br>
                                </span>
                            </div>
                          <p>Additional functionality level (if Share <100%): {{ form.selected_H2b_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_H2b_Perc_1").addEventListener("change", myFunction6);

                                                        function myFunction6() {
                                                          var x = document.getElementById("id_selected_H2b_Perc_1");
                                                          var y = document.getElementById("id_selected_H2b_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH2d">
                    <label>{{ form.selected_H2d.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H2d }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                     <div id="collapseH2d" class="collapse">
                      <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H2d_Perc_1 }}</p>
                      <div class="tooltip-container">
                      <p>Main functionality level : {{ form.selected_H2d_level }}</p>
                             <span class="tooltip-text">
                                    Sequencing in case of different heat generators<br>
                                    0: Priorities only based on running time<br>
                                    1: Control according to fixed priority list: e.g. based on rated energy efficiency<br>
                                    2: Control according to dynamic priority list (based on current energy efficiency, carbon emissions and capacity of generators, e.g. solar, geothermal heat, cogeneration plant, fossil fuels)<br>
                                    3: Control according to dynamic priority list (based on current AND predicted load, energy efficiency, carbon emissions  and capacity of generators)<br>
		                		    4: Control according to dynamic priority list (based on current AND predicted load, energy efficiency, carbon emissions, capacity of generators AND external signals from grid)
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_H2d_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_H2d_Perc_1").addEventListener("change", myFunction7);

                                                        function myFunction7() {
                                                          var x = document.getElementById("id_selected_H2d_Perc_1");
                                                          var y = document.getElementById("id_selected_H2d_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH3">
                    <label>{{ form.selected_H3.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H3 }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                    <div id="collapseH3" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H3_Perc_1 }}</p>
<div class="tooltip-container">
                      <p>Main functionality level : {{ form.selected_H3_level }}</p>
                             <span class="tooltip-text">
     				                Report information regarding heating system performance<br>
                                    0: None<br>
                                    1: Central or remote reporting of current performance KPIs (e.g. temperatures, submetering energy usage)<br>
                                    2: Central or remote reporting of current performance KPIs and historical data<br>
                                    3: Central or remote reporting of performance evaluation including forecasting and/or benchmarking<br>
                                    4: Central or remote reporting of performance evaluation including forecasting and/or benchmarking; also including predictive management and fault detection
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_H3_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_H3_Perc_1").addEventListener("change", myFunction8);

                                                        function myFunction8() {
                                                          var x = document.getElementById("id_selected_H3_Perc_1");
                                                          var y = document.getElementById("id_selected_H3_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseH4">
                    <label>{{ form.selected_H4.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_H4 }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                     <div id="collapseH4" class="collapse">
                      <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_H4_Perc_1 }}</p>
<div class="tooltip-container">
                      <p>Main functionality level : {{ form.selected_H4_level }}</p>
                             <span class="tooltip-text">
				                    Flexibility and grid interaction<br>
                                    0: No automatic control<br>
                                    1: Scheduled operation of heating system<br>
                                    2: Self-learning optimal control of heating system<br>
                                    3: Heating system capable of flexible control through grid signals (e.g. DSM) <br>
                                    4: Optimized control of  heating system based on local predictions and grid signals (e.g. through model predictive control)
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_H4_Perc2_level }}</p>
                    </div>
                    </div>

                                                                           <script>
                                                        document.getElementById("id_selected_H4_Perc_1").addEventListener("change", myFunction8);

                                                        function myFunction8() {
                                                          var x = document.getElementById("id_selected_H4_Perc_1");
                                                          var y = document.getElementById("id_selected_H4_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                </div>
            </div>

                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDHW" >
                    <label>{{ form.selected_DHW.label }}</label>  <!-- Render the label automatically -->
                    <!-- The Switch -->
                    <label class="switch">
                        {{ form.selected_DHW }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                    </label>
                    </div>

                <div id="collapseDHW" class="collapse" style='opacity:0.8; border-color:black; width: 800px;'>
                    <div class="card card-body">


                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDHW1a">
                          <label>{{ form.selected_DHW1a.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_DHW1a }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                         </div>

                        <div id="collapseDHW1a" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_DHW1a_Perc_1 }}</p>
<div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_DHW1a_level }}</p>
                             <span class="tooltip-text">
        				            Control of DHW storage charging (with direct electric heating or integrated electric heat pump)<br>
                                    0: Automatic control on / off<br>
                                    1: Automatic control on / off and scheduled charging enable<br>
                                    2: Automatic control on / off and scheduled charging enable and multi-sensor storage management<br>
                                    3: Automatic charging control based on local availability of renewables or information from electricity grid (DR, DSM) <br>
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_DHW1a_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_DHW1a_Perc_1").addEventListener("change", myFunction9);

                                                        function myFunction9() {
                                                          var x = document.getElementById("id_selected_DHW1a_Perc_1");
                                                          var y = document.getElementById("id_selected_DHW1a_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDHW1b">
                             <label>{{ form.selected_DHW1b.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                            <label class="switch">
                              {{ form.selected_DHW1b }}  <!-- Render the form field (checkbox) -->
                        <span class="slider"></span>
                          </label>
                        </div>

                        <div id="collapseDHW1b" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_DHW1b_Perc_1 }}</p>
                            <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_DHW1b_level }}</p>
                             <span class="tooltip-text">
                				    Control of DHW storage charging (using hot water generation)<br>
                                    0: Automatic control on / off<br>
                                    1: Automatic control on / off and scheduled charging enable<br>
                                    2: Automatic on/off control, scheduled charging enable and demand-based supply temperature control or multi-sensor storage management<br>
                                    3: DHW production system capable of automatic charging control based on external signals (e.g. from district heating grid)<br>
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_DHW1b_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_DHW1b_Perc_1").addEventListener("change", myFunction10);

                                                        function myFunction10() {
                                                          var x = document.getElementById("id_selected_DHW1b_Perc_1");
                                                          var y = document.getElementById("id_selected_DHW1b_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDHW1d">
                             <label>{{ form.selected_DHW1d.label }}</label>  <!-- Render the label automatically -->
                           <!-- The Switch -->
                           <label class="switch">
                               {{ form.selected_DHW1d }}  <!-- Render the form field (checkbox) -->
                              <span class="slider"></span>
                           </label>
                        </div>

                        <div id="collapseDHW1d" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_DHW1d_Perc_1 }}</p>
                            <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_DHW1d_level }}</p>
                              <span class="tooltip-text">
				                    Control of DHW storage charging (with solar collector and supplymentary heat generation)<br>
                                    0: Manual selected control of solar energy or heat generation<br>
                                    1: Automatic control of solar storage charge (Prio. 1) and supplementary storage charge<br>
                                    2: Automatic control of solar storage charge (Prio. 1) and supplementary storage charge and demand-oriented supply or multi-sensor storage management<br>
                                    3: Automatic control of solar storage charge (Prio. 1) and supplementary storage charge, demand-oriented supply and return temperature control and multi-sensor storage management<br>
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_DHW1d_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_DHW1d_Perc_1").addEventListener("change", myFunction11);

                                                        function myFunction11() {
                                                          var x = document.getElementById("id_selected_DHW1d_Perc_1");
                                                          var y = document.getElementById("id_selected_DHW1d_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDHW2b">
                            <label>{{ form.selected_DHW2b.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_DHW2b }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                         </div>

                        <div id="collapseDHW2b" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_DHW2b_Perc_1 }}</p>
                            <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_DHW2b_level }}</p>
                             <span class="tooltip-text">
	                			    Sequencing in case of different DHW generators<br>
                                    0: Priorities only based on running time<br>
                                    1: Control according to fixed priority list: e.g. based on rated energy efficiency<br>
                                    2: Control according to dynamic priority list (based on current energy efficiency, carbon emissions and capacity of generators, e.g. solar, geothermal heat, cogeneration plant, fossil fuels)<br>
	                			    3: Control according to dynamic priority list (based on current AND predicted load, energy efficiency, carbon emissions  and capacity of generators)<br>
                                    4: Control according to dynamic priority list (based on current AND predicted load, energy efficiency, carbon emissions, capacity of generators AND external signals from grid)<br>
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_DHW2b_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_DHW2b_Perc_1").addEventListener("change", myFunction12);

                                                        function myFunction12() {
                                                          var x = document.getElementById("id_selected_DHW2b_Perc_1");
                                                          var y = document.getElementById("id_selected_DHW2b_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDHW3">
                        <label>{{ form.selected_DHW3.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_DHW3 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseDHW3" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_DHW3_Perc_1 }}</p>
                      <div class="tooltip-container">
                      <p>Main functionality level : {{ form.selected_DHW3_level }}</p>
                         <span class="tooltip-text">
			                	    Report information regarding domestic hot water performance<br>
                                    0: None<br>
                                    1: Indication of actual values (e.g. temperatures, submetering energy usage)<br>
                                    2: Actual values and historical data<br>
		                		    3: Performance evaluation including forecasting and/or benchmarking<br>
                                    4: Performance evaluation including forecasting and/or benchmarking; also including predictive management and fault detection<br>
                                </span>
                            </div>
                          <p>Additional functionality level (if Share <100%): {{ form.selected_DHW3_Perc2_level }}</p>
                    </div>
                    </div>

                                                                           <script>
                                                        document.getElementById("id_selected_DHW3_Perc_1").addEventListener("change", myFunction13);

                                                        function myFunction13() {
                                                          var x = document.getElementById("id_selected_DHW3_Perc_1");
                                                          var y = document.getElementById("id_selected_DHW3_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                </div>
                </div>

                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC">
                      <label>{{ form.selected_C.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>


                    <div id="collapseC" class="collapse" style='opacity:0.8; border-color:black; width: 800px;'>
                    <div class="card card-body">

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC1a">
                             <label>{{ form.selected_C1a.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C1a }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseC1a" class="collapse">
                        <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_C1a_Perc_1 }}</p>
                            <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_C1a_level }}</p>
                            <span class="tooltip-text">
Cooling emission control<br>
0: No automatic control	<br>
1: Central automatic control<br>
2: Individual room control<br>
3: Individual room control with communication between controllers and to BACS<br>
4: Individual room control with communication and occupancy detection
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_C1a_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_C1a_Perc_1").addEventListener("change", myFunction14);

                                                        function myFunction14() {
                                                          var x = document.getElementById("id_selected_C1a_Perc_1");
                                                          var y = document.getElementById("id_selected_C1a_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC1b">
                            <label>{{ form.selected_C1b.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C1b }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseC1b" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C1b_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_C1b_level }}</p>
                        <span class="tooltip-text">
Emission control for TABS (cooling mode)<br>
0: No automatic control	<br>
1: Central automatic control	<br>
2: Advanced central automatic control	<br>
3: Advanced central automatic control with intermittent operation and/or room temperature feedback control
                                </span>
                            </div>
                          <p>Additional functionality level (if Share <100%): {{ form.selected_C1b_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_C1b_Perc_1").addEventListener("change", myFunction15);

                                                        function myFunction15() {
                                                          var x = document.getElementById("id_selected_C1b_Perc_1");
                                                          var y = document.getElementById("id_selected_C1b_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC1c">
                        <label>{{ form.selected_C1c.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C1c }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseC1c" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C1c_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_C1c_level }}</p>
                        <span class="tooltip-text">
Control of distribution network chilled water temperature (supply or return)<br>
0: Constant temperature control	<br>
1: Outside temperature compensated control<br>
2: Demand based control
                                </span>
                            </div>
                         <p>Additional functionality level (if Share <100%): {{ form.selected_C1c_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_C1c_Perc_1").addEventListener("change", myFunction15);

                                                        function myFunction15() {
                                                          var x = document.getElementById("id_selected_C1c_Perc_1");
                                                          var y = document.getElementById("id_selected_C1c_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper"data-bs-toggle="collapse" data-bs-target="#collapseC1d">
                            <label>{{ form.selected_C1d.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C1d }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseC1d" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C1d_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_C1d_level }}</p>
                         <span class="tooltip-text">
Control of distribution pumps in networks<br>
0: No automatic control	<br>
1: On off control	<br>
2: Multi-Stage control	<br>
3: Variable speed pump control (pump unit (internal) estimations)<br>
4: Variable speed pump control (external demand signal)
                                </span>
                            </div>
                          <p>Additional functionality level (if Share <100%): {{ form.selected_C1d_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_C1d_Perc_1").addEventListener("change", myFunction16);

                                                        function myFunction16() {
                                                          var x = document.getElementById("id_selected_C1d_Perc_1");
                                                          var y = document.getElementById("id_selected_C1d_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC1f">
                            <label>{{ form.selected_C1f.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C1f }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                     <div id="collapseC1f" class="collapse">
                      <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C1f_Perc_1 }}</p>
                      <div class="tooltip-container">
                          <p>Main functionality level : {{ form.selected_C1f_level }}</p>
                       <span class="tooltip-text">
Interlock: avoiding simultaneous heating and cooling in the same room	<br>
0: No interlock	<br>
1: Partial interlock (minimising risk of simultanieus heating and cooling e.g. by sliding setpoints)	<br>
2: Total interlock (control system ensures no  simultaneous heating and cooling can take place)
                                </span>
                            </div>
                          <p>Additional functionality level (if Share <100%): {{ form.selected_C1f_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_C1f_Perc_1").addEventListener("change", myFunction17);

                                                        function myFunction17() {
                                                          var x = document.getElementById("id_selected_C1f_Perc_1");
                                                          var y = document.getElementById("id_selected_C1f_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC1g">
                           <label>{{ form.selected_C1g.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C1g }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseC1g" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C1g_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_C1g_level }}</p>
                             <span class="tooltip-text">
Control of Thermal Energy Storage (TES) operation<br>
0: Continuous storage operation	<br>
1: Time-scheduled storage operation	<br>
2: Load prediction based storage operation	<br>
3: Cold storage capable of flexible control through grid signals (e.g. DSM)
                                </span>
                            </div>
                          <p>Additional functionality level (if Share <100%): {{ form.selected_C1g_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_C1g_Perc_1").addEventListener("change", myFunction18);

                                                        function myFunction18() {
                                                          var x = document.getElementById("id_selected_C1g_Perc_1");
                                                          var y = document.getElementById("id_selected_C1g_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC2a">
                            <label>{{ form.selected_C2a.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C2a }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseC2a" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C2a_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_C2a_level }}</p>
                             <span class="tooltip-text">
Generator control for cooling	<br>
0: On/Off-control of cooling production	<br>
1: Multi-stage control of  cooling production capacity depending on the load or demand (e.g. on/off of several compressors)	<br>
2: Variable control of  cooling production capacity depending on the load or demand (e.g. hot gas bypass, inverter frequency control)	<br>
3: Variable control of  cooling production capacity depending on the load AND external signals from grid
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_C2a_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_C2a_Perc_1").addEventListener("change", myFunction19);

                                                        function myFunction19() {
                                                          var x = document.getElementById("id_selected_C2a_Perc_1");
                                                          var y = document.getElementById("id_selected_C2a_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC2b">
                            <label>{{ form.selected_C2b.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C2b }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseC2b" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C2b_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_C2b_level }}</p>
                             <span class="tooltip-text">
Sequencing of different cooling generators	<br>
0: Priorities only based on running times	<br>
1: Fixed sequencing based on loads only: e.g. depending on the generators characteristics such as absorption chiller vs. centrifugal chiller<br>
2: Dynamic priorities based on generator efficiency and characteristics (e.g. availability of free cooling)	<br>
3: Load prediction based sequencing: the sequence is based on e.g. COP and available power of a device and the predicted required power	<br>
4: Sequencing based on dynamic priority list, including external signals from grid
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_C2b_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_C2b_Perc_1").addEventListener("change", myFunction20);

                                                        function myFunction20() {
                                                          var x = document.getElementById("id_selected_C2b_Perc_1");
                                                          var y = document.getElementById("id_selected_C2b_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC3">
                            <label>{{ form.selected_C3.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C3 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseC3" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C3_Perc_1 }}</p>
                        <div class="tooltip-container">
                      <p>Main functionality level : {{ form.selected_C3_level }}</p>
                             <span class="tooltip-text">
Report information regarding cooling system performance	<br>
0: None	<br>
1: Central or remote reporting of current performance KPIs (e.g. temperatures, submetering energy usage)<br>
2: Central or remote reporting of current performance KPIs and historical data	<br>
3: Central or remote reporting of performance evaluation including forecasting and/or benchmarking	<br>
4: Central or remote reporting of performance evaluation including forecasting and/or benchmarking; also including predictive management and fault detection
                                </span>
                            </div>
                      <p>Additional functionality level (if Share <100%): {{ form.selected_C3_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_C3_Perc_1").addEventListener("change", myFunction21);

                                                        function myFunction21() {
                                                          var x = document.getElementById("id_selected_C3_Perc_1");
                                                          var y = document.getElementById("id_selected_C3_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseC4">
                            <label>{{ form.selected_C4.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_C4 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseC4" class="collapse">
                     <div class="card card-body">
                      <p>Share of the functionality level : {{ form.selected_C4_Perc_1 }}</p>
                      <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_C4_level }}</p>
                             <span class="tooltip-text">
Flexibility and grid interaction	<br>
0: No automatic control	<br>
1: Scheduled operation of cooling system	<br>
2: Self-learning optimal control of cooling system<br>
3: Cooling system capable of flexible control through grid signals (e.g. DSM) 	<br>
4: Optimized control of  cooling system based on local predictions and grid signals (e.g. through model predictive control)
                                </span>
                            </div>
                          <p>Additional functionality level (if Share <100%): {{ form.selected_C4_Perc2_level }}</p>
                    </div>
                    </div>
                                                     <script>
                                                        document.getElementById("id_selected_C4_Perc_1").addEventListener("change", myFunction22);

                                                        function myFunction22() {
                                                          var x = document.getElementById("id_selected_C4_Perc_1");
                                                          var y = document.getElementById("id_selected_C4_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                </div>
                </div>

                <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseV" >
                    <label>{{ form.selected_V.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_V }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                </div>

                <div id="collapseV" class="collapse" style='opacity:0.8; border-color:black; width: 800px;'>
                     <div class="card card-body">

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseV1a">
                            <label>{{ form.selected_V1a.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_V1a }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseV1a" class="collapse" >
                        <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_V1a_Perc_1 }}</p>
                            <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_V1a_level }}</p>
                              <span class="tooltip-text">
Supply air flow control at the room level	<br>
0: No ventilation system or manual control	<br>
1: Clock control	<br>
2: Occupancy detection control<br>
3: Central Demand Control based on air quality sensors (CO2, VOC, humidity, ...)	<br>
4: Local Demand Control based on air quality sensors (CO2, VOC,...) with local flow from/to the zone regulated by dampers
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_V1a_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_V1a_Perc_1").addEventListener("change", myFunction23);

                                                        function myFunction23() {
                                                          var x = document.getElementById("id_selected_V1a_Perc_1");
                                                          var y = document.getElementById("id_selected_V1a_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseV1c">
                            <label>{{ form.selected_V1c.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_V1c }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseV1c" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_V1c_Perc_1 }}</p>
                            <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_V1c_level }}</p>
                             <span class="tooltip-text">
Air flow or pressure control at the air handler level<br>
0: No automatic control: Continuously supplies of air flow for a maximum load of all rooms	<br>
1: On off time control: Continuously supplies of air flow for a maximum load of all rooms during nominal occupancy time	<br>
2: Multi-stage control: To reduce the auxiliary energy demand of the fan	<br>
3: Automatic flow or pressure control without pressure reset: Load dependent supplies of air flow for the demand of all connected rooms.	<br>
4: Automatic flow or pressure control with pressure reset: Load dependent supplies of air flow for the demand of all connected rooms (for variable air volume systems with VFD).
                                </span>
                            </div>
                                <p>Additional functionality level (if Share <100%): {{ form.selected_V1c_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_V1c_Perc_1").addEventListener("change", myFunction24);

                                                        function myFunction24() {
                                                          var x = document.getElementById("id_selected_V1c_Perc_1");
                                                          var y = document.getElementById("id_selected_V1c_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseV2c">
                           <label>{{ form.selected_V2c.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_V2c }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseV2c" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_V2c_Perc_1 }}</p>
                            <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_V2c_level }}</p>
                              <span class="tooltip-text">
"Heat recovery control:prevention of overheating"	<br>
0: Without overheating control	<br>
1: Modulate or bypass heat recovery based on sensors in air exhaust	<br>
2: Modulate or bypass heat recovery based on multiple room temperature sensors or predictive control
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_V2c_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_V2c_Perc_1").addEventListener("change", myFunction25);

                                                        function myFunction25() {
                                                          var x = document.getElementById("id_selected_V2c_Perc_1");
                                                          var y = document.getElementById("id_selected_V2c_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseV2d">
                            <label>{{ form.selected_V2d.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_V2d }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseV2d" class="collapse" >
                         <div class="card card-body">
                             <p>Share of the functionality level : {{ form.selected_V2d_Perc_1 }}</p>
                            <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_V2d_level }}</p>
                             <span class="tooltip-text">
Air temperature control	Supply air temperature control at the air handling unit level	<br>
0: No automatic control	<br>
1: "Constant setpoint: A control loop enables to control the supply air temperature, the setpoint is constant and can only be modified by a manual action"<br>
2: Variable set point with outdoor temperature compensation	<br>
3: Variable set point with load dependant compensation. A control loop enables to control the supply air temperature. The setpoint is defined as a function of the loads in the room
                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_V2d_Perc2_level }}</p>
                         </div>
                         </div>
                                                   <script>
                                                        document.getElementById("id_selected_V2d_Perc_1").addEventListener("change", myFunction26);

                                                        function myFunction26() {
                                                          var x = document.getElementById("id_selected_V2d_Perc_1");
                                                          var y = document.getElementById("id_selected_V2d_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseV3">
                          <label>{{ form.selected_V3.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_V3 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseV3" class="collapse" >
                         <div class="card card-body">
                             <p>Share of the functionality level : {{ form.selected_V3_Perc_1 }}</p>
                             <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_V3_level }}</p>
                             <span class="tooltip-text">
Free cooling with mechanical ventilation system	<br>
0: No automatic control	<br>
1: Night cooling	<br>
2: "Free cooling: air flows modulated during all periods of time to minimize the amount of mechanical cooling"	<br>
3: "H,x- directed control: The amount of outside air and recirculation air are modulated during all periods of time to minimize the amount of mechanical cooling. Calculation is performed on the basis of temperatures and humidity (enthalpy)."

                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_V3_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_V3_Perc_1").addEventListener("change", myFunction27);

                                                        function myFunction27() {
                                                          var x = document.getElementById("id_selected_V3_Perc_1");
                                                          var y = document.getElementById("id_selected_V3_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseV6">
                            <label>{{ form.selected_V6.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_V6 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseV6" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_V6_Perc_1 }}</p>
                            <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_V6_level }}</p>
                             <span class="tooltip-text">
Reporting information regarding IAQ	<br>
0: None	<br>
1: Air quality sensors (e.g. CO2) and real time autonomous monitoring	<br>
2: Real time monitoring & historical information of IAQ available to occupants	<br>
3: Real time monitoring & historical information of IAQ available to occupants + warning on maintenance needs or occupant actions (e.g. window opening)
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_V6_Perc2_level }}</p>
                        </div>
                        </div>
                                                   <script>
                                                        document.getElementById("id_selected_V6_Perc_1").addEventListener("change", myFunction28);

                                                        function myFunction28() {
                                                          var x = document.getElementById("id_selected_V6_Perc_1");
                                                          var y = document.getElementById("id_selected_V6_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                     </div>
                </div>

                <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseL">
                    <label>{{ form.selected_L.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_L }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                </div>

                <div id="collapseL" class="collapse" style='opacity:0.8; border-color:black; width: 800px;'>
                <div class="card card-body">

                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseL1a">
                            <label>{{ form.selected_L1a.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_L1a }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseL1a" class="collapse">
                     <div class="card card-body">
                        <p>Share of the functionality level : {{ form.selected_L1a_Perc_1 }}</p>
                        <div class="tooltip-container">
                        <p>Main functionality level : {{ form.selected_L1a_level }}</p>
                             <span class="tooltip-text">
Occupancy control for indoor lighting	<br>
0: Manual on/off switch	<br>
1: Manual on/off switch + additional sweeping extinction signal	<br>
2: Automatic detection (auto on / dimmed or auto off)	<br>
3: Automatic detection (manual on / dimmed or auto off)
                                </span>
                            </div>
                         <p>Additional functionality level (if Share <100%): {{ form.selected_L1a_Perc2_level }}</p>
                    </div>
                    </div>
                                                   <script>
                                                        document.getElementById("id_selected_L1a_Perc_1").addEventListener("change", myFunction29);

                                                        function myFunction29() {
                                                          var x = document.getElementById("id_selected_L1a_Perc_1");
                                                          var y = document.getElementById("id_selected_L1a_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                    <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseL2">
                            <label>{{ form.selected_L2.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_L2 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                    </div>

                    <div id="collapseL2" class="collapse">
                     <div class="card card-body">
                         <p>Share of the functionality level : {{ form.selected_L2_Perc_1 }}</p>
                         <div class="tooltip-container">
                         <p>Main functionality level : {{ form.selected_L2_level }}</p>
                              <span class="tooltip-text">
Control artificial lighting power based on daylight levels<br>
0: Manual (central)	<br>
1: Manual (per room / zone)	<br>
2: Automatic switching	<br>
3: Automatic dimming	<br>
4: Automatic dimming including scene-based light control (during time intervals, dynamic and adapted lighting scenes are set, for example, in terms of illuminance level, different correlated colour temperature (CCT) and the possibility to change the light distribution within the space according to e. g. design, human needs, visual tasks)"
                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_L2_Perc2_level }}</p>
                    </div>
                    </div>
                                                        <script>
                                                        document.getElementById("id_selected_L2_Perc_1").addEventListener("change", myFunction29);

                                                        function myFunction29() {
                                                          var x = document.getElementById("id_selected_L2_Perc_1");
                                                          var y = document.getElementById("id_selected_L2_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                </div>
                </div>

                <div class="fieldWrapper"  data-bs-toggle="collapse" data-bs-target="#collapseDE">
                    <label>{{ form.selected_DE.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_DE }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                </div>

                <div id="collapseDE" class="collapse" style='opacity:0.8; border-color:black; width: 800px;'>
                    <div class="card card-body">

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDE1">
                            <label>{{ form.selected_DE1.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_DE1 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseDE1" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_DE1_Perc_1 }}</p>
                            <div class="tooltip-container">
                                <p>Main functionality level : {{ form.selected_DE1_level }}</p>
                             <span class="tooltip-text">
Window solar shading control	<br>
0: No sun shading or only manual operation	<br>
1: Motorized operation with manual control	<br>
2: Motorized operation with automatic control based on sensor data	<br>
3: Combined light/blind/HVAC control	<br>
4: Predictive blind control (e.g. based on weather forecast)
                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_DE1_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_DE1_Perc_1").addEventListener("change", myFunction30);

                                                        function myFunction30() {
                                                          var x = document.getElementById("id_selected_DE1_Perc_1");
                                                          var y = document.getElementById("id_selected_DE1_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDE2">
                            <label>{{ form.selected_DE2.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_DE2 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseDE2" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_DE2_Perc_1 }}</p>
                            <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_DE2_level }}</p>
                                <span class="tooltip-text">
Window open/closed control, combined with HVAC system	<br>
0: Manual operation or only fixed windows	<br>
1: Open/closed detection to shut down heating or cooling systems<br>
2: Level 1 + Automised mechanical window opening based on room sensor data	<br>
3: Level 2 + Centralized coordination of operable windows, e.g. to control free natural night cooling
                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_DE2_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_DE2_Perc_1").addEventListener("change", myFunction31);

                                                        function myFunction31() {
                                                          var x = document.getElementById("id_selected_DE2_Perc_1");
                                                          var y = document.getElementById("id_selected_DE2_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseDE4">
                             <label>{{ form.selected_DE4.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_DE4 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseDE4" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_DE4_Perc_1 }}</p>
                            <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_DE4_level }}</p>
                             <span class="tooltip-text">
Reporting information regarding performance of dynamic building envelope systems<br>
0: No reporting	<br>
1: Position of each product & fault detection	<br>
2: Position of each product, fault detection & predictive maintenance	<br>
3: Position of each product, fault detection, predictive maintenance, real-time sensor data (wind, lux, temperature…)	<br>
4: Position of each product, fault detection, predictive maintenance, real-time & historical sensor data (wind, lux, temperature…)

                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_DE4_Perc2_level }}</p>
                        </div>
                        </div>
                                                     <script>
                                                        document.getElementById("id_selected_DE4_Perc_1").addEventListener("change", myFunction32);

                                                        function myFunction32() {
                                                          var x = document.getElementById("id_selected_DE4_Perc_1");
                                                          var y = document.getElementById("id_selected_DE4_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                   </div>
                </div>

                <div class="fieldWrapper"  data-bs-toggle="collapse" data-bs-target="#collapseE">
                    <label>{{ form.selected_E.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_E }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                </div>

                <div id="collapseE" class="collapse" style='opacity:0.8; border-color:black; width: 800px;'>
                    <div class="card card-body">

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseE2">
                            <label>{{ form.selected_E2.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_E2 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseE2" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_E2_Perc_1 }}</p>
                            <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_E2_level }}</p>
                             <span class="tooltip-text">
Reporting information regarding local electricity generation	<br>
0: None	<br>
1: Current generation data available	<br>
2: Actual values and historical data	<br>
3: Performance evaluation including forecasting and/or benchmarking	<br>
4: Performance evaluation including forecasting and/or benchmarking; also including predictive management and fault detection

                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_E2_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_Ε2_Perc_1").addEventListener("change", myFunction33);

                                                        function myFunction33() {
                                                          var x = document.getElementById("id_selected_Ε2_Perc_1");
                                                          var y = document.getElementById("id_selected_Ε2_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                         <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseE3">
                            <label>{{ form.selected_E3.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_E3 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                         </div>

                         <div id="collapseE3" class="collapse">
                          <div class="card card-body">
                             <p>Share of the functionality level : {{ form.selected_E3_Perc_1 }}</p>
                             <div class="tooltip-container">
                              <p>Main functionality level : {{ form.selected_E3_level }}</p>
                             <span class="tooltip-text">
Storage of (locally generated) electricity	<br>
0: None	<br>
1: On site storage of electricity (e.g. electric battery)	<br>
2: On site storage of energy (e.g. electric battery or thermal storage) with controller based on grid signals	<br>
3: On site storage of energy (e.g. electric battery or thermal storage) with controller optimising the use of locally generated electricity<br>
4: On site storage of energy (e.g. electric battery or thermal storage) with controller optimising the use of locally generated electricity and possibility to feed back into the grid

                                </span>
                            </div>
                                 <p>Additional functionality level (if Share <100%): {{ form.selected_E3_Perc2_level }}</p>
                         </div>
                         </div>
                                                    <script>
                                                        document.getElementById("id_selected_Ε3_Perc_1").addEventListener("change", myFunction34);

                                                        function myFunction34() {
                                                          var x = document.getElementById("id_selected_Ε3_Perc_1");
                                                          var y = document.getElementById("id_selected_Ε3_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper"  data-bs-toggle="collapse" data-bs-target="#collapseE4">
                            <label>{{ form.selected_E4.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_E4 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>

                              </label>
                         </div>

                        <div id="collapseE4" class="collapse">
                         <div class="card card-body">
                             <p>Share of the functionality level : {{ form.selected_E4_Perc_1 }}</p>
                          <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_E4_level }}</p>
                             <span class="tooltip-text">
Optimizing self-consumption of locally generated electricity	<br>
0: None	<br>
1: Scheduling electricity consumption (plug loads, white goods, etc.)	<br>
2: Automated management of local electricity consumption based on current renewable energy availability	<br>
3: Automated management of local electricity consumption based on current and predicted energy needs and renewable energy availability

                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_E4_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_E4_Perc_1").addEventListener("change", myFunction35);

                                                        function myFunction35() {
                                                          var x = document.getElementById("id_selected_E4_Perc_1");
                                                          var y = document.getElementById("id_selected_E4_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                        <div class="fieldWrapper"  data-bs-toggle="collapse" data-bs-target="#collapseE5">
                           <label>{{ form.selected_E5.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_E5 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseE5" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_E5_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_E5_level }}</p>
                             <span class="tooltip-text">
Control of combined heat and power plant (CHP)	<br>
0: CHP control based on scheduled runtime management and/or current heat energy demand	<br>
1: CHP runtime control influenced by the fluctuating availability of RES; overproduction will be fed into the grid	<br>
2: CHP runtime control influenced by the fluctuating availability of RES and grid signals; dynamic charging and runtime control to optimise self-consumption of renewables

                                </span>
                            </div>
                              <p>Additional functionality level (if Share <100%): {{ form.selected_E5_Perc2_level }}</p>
                         </div>
                         </div>
                                                    <script>
                                                        document.getElementById("id_selected_E5_Perc_1").addEventListener("change", myFunction36);

                                                        function myFunction36() {
                                                          var x = document.getElementById("id_selected_E5_Perc_1");
                                                          var y = document.getElementById("id_selected_E5_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseE8">
                            <label>{{ form.selected_E8.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_E8 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseE8" class="collapse">
                         <div class="card card-body">
                             <p>Share of the functionality level : {{ form.selected_E8_Perc_1 }}</p>
                          <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_E8_level }}</p>
                             <span class="tooltip-text">
Support of (micro)grid operation modes	<br>
0: None	<br>
1: Automated management of (building-level) electricity consumption based on grid signals<br>
2: Automated management of (building-level) electricity consumption and electricity supply to neighbouring buildings (microgrid) or grid<br>
3: Automated management of (building-level) electricity consumption and supply, with potential to continue limited off-grid operation (island mode)

                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_E8_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_E8_Perc_1").addEventListener("change", myFunction37);

                                                        function myFunction37() {
                                                          var x = document.getElementById("id_selected_E8_Perc_1");
                                                          var y = document.getElementById("id_selected_E8_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseE11">
                            <label>{{ form.selected_E11.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_E11 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseE11" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_E11_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_E11_level }}</p>
                             <span class="tooltip-text">
Reporting information regarding energy storage	<br>
0: None	<br>
1: Current state of charge (SOC) data available	<br>
2: Actual values and historical data	<br>
3: Performance evaluation including forecasting and/or benchmarking	<br>
4: Performance evaluation including forecasting and/or benchmarking; also including predictive management and fault detection
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_E11_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_E11_Perc_1").addEventListener("change", myFunction38);

                                                        function myFunction38() {
                                                          var x = document.getElementById("id_selected_E11_Perc_1");
                                                          var y = document.getElementById("id_selected_E11_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseE12">
                            <label>{{ form.selected_E12.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_E12 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseE12" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_E12_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_E12_level }}</p>
                              <span class="tooltip-text">
Reporting information regarding electricity consumption	<br>
0: None	<br>
1: reporting on current electricity consumption on building level	<br>
2: real-time feedback or benchmarking on building level	<br>
3: real-time feedback or benchmarking on appliance level	<br>
4: real-time feedback or benchmarking on appliance level with automated personalized recommendations
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_E12_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_E12_Perc_1").addEventListener("change", myFunction39);

                                                        function myFunction39() {
                                                          var x = document.getElementById("id_selected_E12_Perc_1");
                                                          var y = document.getElementById("id_selected_E12_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                </div>
                </div>

                <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseEV">
                       <label>{{ form.selected_EV.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_EV }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                </div>

                <div id="collapseEV" class="collapse" style='opacity:0.8; border-color:black; width: 800px;'>
                     <div class="card card-body">
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseEV15">
                            <label>{{ form.selected_EV15.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_EV15 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseEV15" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_EV15_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_EV15_level }}</p>
                             <span class="tooltip-text">
EV Charging Capacity	<br>
0: not present	<br>
1: ducting (or simple power plug) available	<br>
2: 0-9% of parking spaces has recharging points	<br>
3: 10-50% or parking spaces has recharging point	<br>
4: >50% of parking spaces has recharging point
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_EV15_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_EV15_Perc_1").addEventListener("change", myFunction40);

                                                        function myFunction40() {
                                                          var x = document.getElementById("id_selected_EV15_Perc_1");
                                                          var y = document.getElementById("id_selected_EV15_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseEV16">
                            <label>{{ form.selected_EV16.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_EV16 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseEV16" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_EV16_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_EV16_level }}</p>
                             <span class="tooltip-text">
EV Charging Grid balancing	<br>
0: Not present (uncontrolled charging)	<br>
1: 1-way controlled charging (e.g. including desired departure time and grid signals for optimization)	<br>
2: 2-way controlled charging (e.g. including desired departure time and grid signals for optimization)
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_EV16_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_EV16_Perc_1").addEventListener("change", myFunction41);

                                                        function myFunction41() {
                                                          var x = document.getElementById("id_selected_EV16_Perc_1");
                                                          var y = document.getElementById("id_selected_EV16_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>

                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseEV17">
                            <label>{{ form.selected_EV17.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_EV17 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseEV17" class="collapse">
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_EV17_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_EV17_level }}</p>
                             <span class="tooltip-text">
EV charging information and connectivity	<br>
0: No information available	<br>
1: Reporting information on EV charging status to occupant	<br>
2: Reporting information on EV charging status to occupant AND automatic identification and authorizition of the driver to the charging station (ISO 15118 compliant)

                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_EV17_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_EV17_Perc_1").addEventListener("change", myFunction42);

                                                        function myFunction42() {
                                                          var x = document.getElementById("id_selected_EV17_Perc_1");
                                                          var y = document.getElementById("id_selected_EV17_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                </div>
                </div>

                <div class="fieldWrapper"  data-bs-toggle="collapse" data-bs-target="#collapseMC">
                      <label>{{ form.selected_MC.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                </div>

                <div id="collapseMC" class="collapse" style='opacity:0.8; border-color:black; width: 1100px;'>
                    <div class="card card-body">
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseMC3">
                            <label>{{ form.selected_MC3.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC3 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                         <div id="collapseMC3" class="collapse">
                          <div class="card card-body">
                             <p>Share of the functionality level : {{ form.selected_MC3_Perc_1 }}</p>
                          <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_MC3_level }}</p>
                             <span class="tooltip-text">
Run time management of HVAC systems	<br>
0: Manual setting 	<br>
1: Runtime setting of heating and cooling plants following a predefined time schedule <br>
2: Heating and cooling plant on/off control based on building loads	<br>
3: Heating and cooling plant on/off control based on predictive control or grid signals
                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_MC3_Perc2_level }}</p>
                         </div>
                         </div>
                                                    <script>
                                                        document.getElementById("id_selected_MC3_Perc_1").addEventListener("change", myFunction43);

                                                        function myFunction43() {
                                                          var x = document.getElementById("id_selected_MC3_Perc_1");
                                                          var y = document.getElementById("id_selected_MC3_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                         <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseMC4">
                            <label>{{ form.selected_MC4.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC4 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                         </div>

                         <div id="collapseMC4" class="collapse" >
                          <div class="card card-body">
                             <p>Share of the functionality level : {{ form.selected_MC4_Perc_1 }}</p>
                          <div class="tooltip-container">
                             <p>Main functionality level : {{ form.selected_MC4_level }}</p>
                             <span class="tooltip-text">
Detecting faults of technical building systems and providing support to the diagnosis of these faults	<br>
0: No central indication of detected faults and alarms	<br>
1: With central indication of detected faults and alarms for at least 2 relevant TBS	<br>
2: With central indication of detected faults and alarms for all relevant TBS	<br>
3: With central indication of detected faults and alarms for all relevant TBS, including diagnosing functions
                                </span>
                            </div>
                             <p>Additional functionality level (if Share <100%): {{ form.selected_MC4_Perc2_level }}</p>
                         </div>
                         </div>
                                                    <script>
                                                        document.getElementById("id_selected_MC4_Perc_1").addEventListener("change", myFunction44);

                                                        function myFunction44() {
                                                          var x = document.getElementById("id_selected_MC4_Perc_1");
                                                          var y = document.getElementById("id_selected_MC4_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseMC9">
                            <label>{{ form.selected_MC9.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC9 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseMC9" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_MC9_Perc_1 }}</p>
                           <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_MC9_level }}</p>
                             <span class="tooltip-text">
Occupancy detection: connected services	<br>
0: None	<br>
1: Occupancy detection for individual functions, e.g. lighting	<br>
2: Centralised occupant detection which feeds in to several TBS such as lighting and heating
                                </span>
                            </div>
                           <p>Additional functionality level (if Share <100%): {{ form.selected_MC9_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_MC9_Perc_1").addEventListener("change", myFunction45);

                                                        function myFunction45() {
                                                          var x = document.getElementById("id_selected_MC9_Perc_1");
                                                          var y = document.getElementById("id_selected_MC9_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseMC13">
                            <label>{{ form.selected_MC13.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC13 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseMC13" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_MC13_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_MC13_level }}</p>
                             <span class="tooltip-text">
Central reporting of TBS performance and energy use<br>
0: None	<br>
1: Central or remote reporting of realtime energy use per energy carrier<br>
2: Central or remote reporting of realtime energy use per energy carrier, combining TBS of at least 2 domains in one interface<br>
3: Central or remote reporting of realtime energy use per energy carrier, combining TBS of all main domains in one interface
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_MC13_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_MC13_Perc_1").addEventListener("change", myFunction46);

                                                        function myFunction46() {
                                                          var x = document.getElementById("id_selected_MC13_Perc_1");
                                                          var y = document.getElementById("id_selected_MC13_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseMC25">
                            <label>{{ form.selected_MC25.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC25 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseMC25" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_MC25_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_MC25_level }}</p>
                             <span class="tooltip-text">
Smart Grid Integration	<br>
0: None - No harmonization between grid and TBS; building is operated independently from the grid load 	<br>
1: Demand side management possible for (some) individual TBS, but not coordinated over various domains	<br>
2: Coordinated demand side management of multiple TBS
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_MC25_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_MC25_Perc_1").addEventListener("change", myFunction47);

                                                        function myFunction47() {
                                                          var x = document.getElementById("id_selected_MC25_Perc_1");
                                                          var y = document.getElementById("id_selected_MC25_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseMC28">
                            <label>{{ form.selected_MC28.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC28 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseMC28" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_MC28_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_MC28_level }}</p>
                             <span class="tooltip-text">
Reporting information regarding demand side management performance and operation	<br>
0: None	<br>
1: Reporting information on current DSM status, including managed energy flows	<br>
2: Reporting information on current historical and predicted DSM status, including managed energy flows
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_MC28_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_MC28_Perc_1").addEventListener("change", myFunction48);

                                                        function myFunction48() {
                                                          var x = document.getElementById("id_selected_MC28_Perc_1");
                                                          var y = document.getElementById("id_selected_MC28_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                         <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseMC29">
                            <label>{{ form.selected_MC29.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC29 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                         </div>

                        <div id="collapseMC29" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_MC29_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_MC29_level }}</p>
                             <span class="tooltip-text">
Override of DSM control	<br>
0: No DSM control	<br>
1: DSM control without the possibility to override this control by the building user (occupant or facility manager)	<br>
2: Manual override and reactivation of DSM control by the building user 	<br>
3: Scheduled override of DSM control (and reactivation) by the building user 	<br>
4: Scheduled override of DSM control and reactivation with optimised control
                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_MC29_Perc2_level }}</p>
                         </div>
                         </div>
                                                    <script>
                                                        document.getElementById("id_selected_MC29_Perc_1").addEventListener("change", myFunction49);

                                                        function myFunction49() {
                                                          var x = document.getElementById("id_selected_MC29_Perc_1");
                                                          var y = document.getElementById("id_selected_MC29_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                        <div class="fieldWrapper" data-bs-toggle="collapse" data-bs-target="#collapseMC30">
                            <label>{{ form.selected_MC30.label }}</label>  <!-- Render the label automatically -->
                            <!-- The Switch -->
                           <label class="switch">
                                  {{ form.selected_MC30 }}  <!-- Render the form field (checkbox) -->
                                     <span class="slider"></span>
                              </label>
                        </div>

                        <div id="collapseMC30" class="collapse" >
                         <div class="card card-body">
                            <p>Share of the functionality level : {{ form.selected_MC30_Perc_1 }}</p>
                          <div class="tooltip-container">
                            <p>Main functionality level : {{ form.selected_MC30_level }}</p>
                             <span class="tooltip-text">
Single platform that allows automated control & coordination between TBS + optimization of energy flow based on occupancy, weather and grid signals	<br>
0: None	<br>
1: Single platform that allows manual control of multiple TBS	<br>
2: Single platform that allows automated control & coordination between TBS	<br>
3: Single platform that allows automated control & coordination between TBS + optimization of energy flow based on occupancy, weather and grid signals

                                </span>
                            </div>
                            <p>Additional functionality level (if Share <100%): {{ form.selected_MC30_Perc2_level }}</p>
                        </div>
                        </div>
                                                    <script>
                                                        document.getElementById("id_selected_MC30_Perc_1").addEventListener("change", myFunction50);

                                                        function myFunction50() {
                                                          var x = document.getElementById("id_selected_MC30_Perc_1");
                                                          var y = document.getElementById("id_selected_MC30_Perc2_level");
                                                            if (x.value < 100 ) {
                                                                y.style.visibility = "visible";
                                                                  }
                                                                  else {
                                                                y.style.visibility = "hidden";
                                                                x.value = 100
                                                                        }
                                                                        }
                                                    </script>
                </div>
                </div>

                <input type="submit" value="Submit">
            </form>
        </div>
      </div>
</div>


</body>

</html>